<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:es="http://essearch.fr/taglibs">

	<p:tree id="docTree" value="#{root}" var="doc" dynamic="true" 
		cache="false">

		<p:ajax event="expand" update=":form:messages"
			listener="#{documentsController.onNodeExpand}" />
		<p:ajax event="collapse" update=":form:messages"
			listener="#{documentsController.onNodeCollapse}" />
		<p:ajax event="select" update=":form:messages"
			listener="#{documentsController.onNodeSelect}" />
		<p:ajax event="unselect" update=":form:messages"
			listener="#{documentsController.onNodeUnselect}" />


		<p:treeNode expandedIcon="ui-icon-folder-open"
			collapsedIcon="ui-icon-folder-collapsed">
			<h:outputText value="#{doc.title}" />
		</p:treeNode>

		<p:treeNode type="document" icon="ui-icon-document">
			<h:outputText value="#{doc.title}" />
		</p:treeNode>

		<p:treeNode type="picture" icon="ui-icon-image">
			<h:outputText value="#{doc.data.title}" />
		</p:treeNode>

		<p:treeNode type="mp3" icon="ui-icon-video">
			<h:outputText value="#{doc.title}" />
		</p:treeNode>
	</p:tree>


</ui:composition>
